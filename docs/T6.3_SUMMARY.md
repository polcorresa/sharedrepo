# T6.3 Summary: Editor Integration

## Overview
Integrated Monaco Editor with Yjs for real-time collaborative editing.

## Components

### 1. CodeEditor (`apps/web/src/components/CodeEditor.tsx`)
- **Monaco Editor**: Uses `@monaco-editor/react` to render the editor.
- **Yjs Integration**:
  - Creates a `Y.Doc` for each file.
  - Connects to `y-websocket` provider using room `repo:<repoId>:file:<fileId>`.
  - Binds `Y.Text` to Monaco model using `y-monaco`.
- **Awareness**:
  - Sets a random color for the user.
  - Propagates cursor positions and selections.
- **Lifecycle**:
  - Cleans up bindings and connections when file changes or component unmounts.

### 2. Integration (`apps/web/src/components/RepoEditor.tsx`)
- Renders `CodeEditor` when a file is selected.
- Uses `key={activeFile.id}` to force a fresh editor instance/connection when switching files.

## Verification
- `pnpm --filter @sharedrepo/web typecheck` passed.
- Dependencies (`monaco-editor`, `yjs`, `y-websocket`, `y-monaco`) installed.
